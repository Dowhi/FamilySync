# üì± C√≥mo Agregar el Widget a la Pantalla de Inicio

Gu√≠a detallada paso a paso para agregar el widget del Calendario Familiar a la pantalla de inicio en Android e iOS.

---

## üçé iOS (iPhone/iPad)

### M√©todo 1: Desde la Pantalla de Inicio (iOS 14+)

#### Paso 1: Entrar en Modo Edici√≥n
1. **Desbloquea tu iPhone/iPad**
2. **Navega a la pantalla de inicio** donde quieres agregar el widget
3. **Mant√©n presionada** cualquier √°rea vac√≠a de la pantalla de inicio
4. Cuando los iconos empiecen a "bailar" (modo edici√≥n), suelta el dedo

#### Paso 2: Agregar Widget
1. En la esquina **superior izquierda**, ver√°s un bot√≥n **"+"** (m√°s)
2. **Toca el bot√≥n "+"**
3. Se abrir√° la **galer√≠a de widgets** de iOS

#### Paso 3: Buscar el Widget
1. En la parte superior hay una **barra de b√∫squeda** - escribe: **"Calendario Familiar"**
2. O despl√°zate hacia abajo en la lista de widgets hasta encontrar **"Calendario Familiar"**
3. Tambi√©n puedes buscar por categor√≠a: **Productividad** o **Utilidades**

#### Paso 4: Seleccionar Tama√±o
1. Una vez que encuentres el widget, ver√°s **diferentes tama√±os disponibles**:
   - **Peque√±o** (Small) - 2x2 iconos
   - **Mediano** (Medium) - 4x2 iconos
2. **Desliza** entre los tama√±os para ver una vista previa
3. **Selecciona el tama√±o** que prefieras tocando en √©l

#### Paso 5: Agregar a la Pantalla
1. **Toca el bot√≥n "Agregar Widget"** en la parte inferior
2. El widget aparecer√° en la pantalla de inicio
3. Puedes **arrastrarlo** a la posici√≥n que desees
4. **Presiona "Listo"** en la esquina superior derecha para salir del modo edici√≥n

### M√©todo 2: Desde la Biblioteca de Widgets

#### Paso 1: Acceder a la Biblioteca
1. **Desliza hacia la derecha** desde la primera pantalla de inicio
2. Llegar√°s a la **pantalla de widgets** (Today View)
3. **Desliza hasta el final** de esta pantalla
4. **Toca "Editar"** en la parte inferior

#### Paso 2: Agregar Widget
1. **Toca el bot√≥n "+"** en la esquina superior izquierda
2. Busca **"Calendario Familiar"**
3. Selecciona el tama√±o y toca **"Agregar Widget"**

---

## ü§ñ Android

### M√©todo 1: Desde la Pantalla de Inicio (Launcher)

#### Paso 1: Entrar en Modo Edici√≥n
1. **Desbloquea tu dispositivo Android**
2. **Navega a la pantalla de inicio** donde quieres agregar el widget
3. **Mant√©n presionada** cualquier √°rea vac√≠a de la pantalla (sin iconos)
4. Despu√©s de 1-2 segundos, aparecer√° un **men√∫ contextual**

#### Paso 2: Acceder a Widgets
1. En el men√∫ que aparece, busca y **toca "Widgets"** o **"Widgets"**
   - El texto exacto puede variar seg√∫n el launcher:
     - **Samsung**: "Widgets"
     - **Google Pixel**: "Widgets"
     - **Xiaomi**: "Widgets" o "Widgets"
     - **Otros**: Puede ser un icono de "cuadr√≠cula" o "m√°s"

#### Paso 3: Buscar el Widget
1. Se abrir√° la **lista de widgets disponibles**
2. **Despl√°zate** hacia abajo o usa la barra de b√∫squeda
3. Busca **"Calendario Familiar"** o el nombre de tu app
4. El widget puede aparecer agrupado con otros widgets de la app

#### Paso 4: Seleccionar y Colocar
1. **Mant√©n presionado** el widget "Calendario Familiar"
2. El widget se "pegara" a tu dedo
3. **Arrastra** el widget a la pantalla de inicio
4. **Mueve** el widget a la posici√≥n deseada
5. **Suelta** el dedo para colocarlo

#### Paso 5: Ajustar Tama√±o (Opcional)
1. Algunos launchers permiten **redimensionar** el widget:
   - **Mant√©n presionado** el widget ya colocado
   - Si aparece un **borde azul** con puntos, puedes **arrastrar las esquinas** para cambiar el tama√±o
   - En algunos launchers, aparece un men√∫ con opciones de tama√±o

### M√©todo 2: Desde el Men√∫ de Aplicaciones

#### Paso 1: Abrir Men√∫ de Apps
1. **Toca el icono** de todas las aplicaciones (normalmente en la parte inferior central)
2. O **desliza hacia arriba** desde la parte inferior de la pantalla

#### Paso 2: Acceder a Widgets
1. En el men√∫ de aplicaciones, busca la pesta√±a o secci√≥n **"Widgets"**
2. O busca **"Calendario Familiar"** en la lista de apps
3. Si encuentras la app, **mant√©n presionada** y aparecer√°n opciones, incluyendo widgets

### M√©todo 3: Desde Configuraci√≥n del Launcher

#### Para Launchers Personalizados (Nova, Action, etc.):
1. **Mant√©n presionada** la pantalla de inicio
2. Selecciona **"Widgets"** o **"Agregar"**
3. Busca **"Calendario Familiar"**
4. Arrastra a la pantalla

---

## üîç Soluci√≥n de Problemas

### iOS: "No encuentro el widget"

**Problema**: El widget no aparece en la lista de widgets disponibles.

**Soluciones**:
1. **Verifica que la app est√© instalada**:
   - Busca el icono de "Calendario Familiar" en la pantalla de inicio
   - Si no est√°, instala la app primero

2. **Reinicia el dispositivo**:
   - Mant√©n presionado el bot√≥n de encendido + volumen bajo hasta que aparezca el slider
   - Apaga y vuelve a encender

3. **Verifica que el widget est√© habilitado**:
   - Ve a Configuraci√≥n ‚Üí Pantalla de inicio y Dock
   - Aseg√∫rate de que los widgets est√©n habilitados

4. **Recompila la app**:
   - Si desarrollaste la app, aseg√∫rate de que el widget extension est√© incluido en el build
   - Abre Xcode y verifica que el target "CalendarWidget" est√© seleccionado

### Android: "No encuentro el widget"

**Problema**: El widget no aparece en la lista de widgets.

**Soluciones**:
1. **Verifica que la app est√© instalada**:
   - Ve a Configuraci√≥n ‚Üí Aplicaciones
   - Busca "Calendario Familiar"
   - Si no est√°, instala la app primero

2. **Reinicia el launcher**:
   - Ve a Configuraci√≥n ‚Üí Aplicaciones ‚Üí [Tu Launcher] ‚Üí Forzar Detenci√≥n
   - O simplemente reinicia el dispositivo

3. **Verifica permisos**:
   - Algunos launchers requieren permisos especiales
   - Ve a Configuraci√≥n ‚Üí Aplicaciones ‚Üí [Tu Launcher] ‚Üí Permisos

4. **Limpia la cach√©**:
   - Ve a Configuraci√≥n ‚Üí Aplicaciones ‚Üí [Tu Launcher] ‚Üí Almacenamiento ‚Üí Limpiar Cach√©

5. **Recompila la app**:
   - Si desarrollaste la app, verifica que el widget est√© configurado en AndroidManifest.xml
   - Ejecuta: `flutter clean` y luego `flutter build apk`

### El widget no se puede mover

**iOS**:
- Aseg√∫rate de estar en modo edici√≥n (iconos bailando)
- Mant√©n presionado el widget y arrastra

**Android**:
- Algunos launchers bloquean ciertas √°reas (como el dock)
- Intenta moverlo a otra √°rea de la pantalla
- Verifica que no haya restricciones de accesibilidad activadas

### El widget no abre la app

**iOS**:
1. Verifica que el URL scheme est√© configurado en Info.plist
2. Verifica que AppDelegate maneje el deep link correctamente
3. Reinstala la app

**Android**:
1. Verifica que el AndroidManifest.xml tenga el intent-filter configurado
2. Verifica que MainActivity maneje el intent
3. Reinstala la app

---

## üìê Tama√±os de Widget Disponibles

### iOS
- **Small (Peque√±o)**: 2x2 iconos - Muestra mes, a√±o e icono
- **Medium (Mediano)**: 4x2 iconos - Muestra m√°s informaci√≥n

### Android
- **Tama√±o m√≠nimo**: 110dp x 110dp (2x2 iconos aproximadamente)
- **Redimensionable**: S√≠, dependiendo del launcher

---

## üé® Personalizaci√≥n

### Cambiar Posici√≥n
- **iOS**: Mant√©n presionado el widget ‚Üí Arrastra ‚Üí Suelta
- **Android**: Mant√©n presionado el widget ‚Üí Arrastra ‚Üí Suelta

### Eliminar Widget
- **iOS**: Mant√©n presionado el widget ‚Üí Toca "Quitar Widget" ‚Üí "Quitar"
- **Android**: Mant√©n presionado el widget ‚Üí Arrastra a "Eliminar" o "Papelera" (arriba)

### Actualizar Widget
- **iOS**: Mant√©n presionado el widget ‚Üí "Editar Widget" ‚Üí Cambiar opciones
- **Android**: El widget se actualiza autom√°ticamente cada hora

---

## ‚úÖ Verificaci√≥n

Despu√©s de agregar el widget, verifica que:

1. ‚úÖ El widget aparece en la pantalla de inicio
2. ‚úÖ Muestra el mes y a√±o correctos
3. ‚úÖ Al tocarlo, abre la app
4. ‚úÖ La app navega a calendar.html (o a la pantalla del calendario)

---

## üìû Ayuda Adicional

Si despu√©s de seguir estos pasos el widget no aparece o no funciona:

1. **Verifica la documentaci√≥n t√©cnica**:
   - `GUIA_WIDGETS.md` - Informaci√≥n t√©cnica de implementaci√≥n
   - `INSTRUCCIONES_WIDGET_ANDROID.md` - Instrucciones para desarrolladores

2. **Revisa los logs**:
   - iOS: Xcode ‚Üí Window ‚Üí Devices and Simulators ‚Üí Ver logs
   - Android: `adb logcat | grep CalendarWidget`

3. **Contacta al equipo de desarrollo** con:
   - Versi√≥n del sistema operativo
   - Versi√≥n de la app
   - Pasos que seguiste
   - Capturas de pantalla del problema

---

## üéØ Resumen R√°pido

### iOS
```
Pantalla de inicio ‚Üí Mant√©n presionado ‚Üí Bot√≥n "+" ‚Üí Buscar "Calendario Familiar" ‚Üí Seleccionar tama√±o ‚Üí Agregar Widget ‚Üí Listo
```

### Android
```
Pantalla de inicio ‚Üí Mant√©n presionado ‚Üí Widgets ‚Üí Buscar "Calendario Familiar" ‚Üí Arrastrar a pantalla ‚Üí Soltar
```

¬°Listo! Ya tienes el widget en tu pantalla de inicio. üéâ

